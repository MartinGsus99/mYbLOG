{"title":"HTTPS实用指南","uid":"b5f7853819177df9fb539228bb5fe3c1","slug":"HTTP","date":"2023-03-27T10:51:45.000Z","updated":"2023-03-27T11:05:18.316Z","comments":true,"path":"api/articles/HTTP.json","keywords":"Love And Freedom","cover":"img/bg6.jpeg","content":"<h1 id=\"HTTPS实用指南\"><a href=\"#HTTPS实用指南\" class=\"headerlink\" title=\"HTTPS实用指南\"></a>HTTPS实用指南</h1><h2 id=\"一、初识\"><a href=\"#一、初识\" class=\"headerlink\" title=\"一、初识\"></a>一、初识</h2><h3 id=\"1-背景知识\"><a href=\"#1-背景知识\" class=\"headerlink\" title=\"1.背景知识\"></a>1.背景知识</h3><p>输入网址获得网页的过程？</p>\n<p><img src=\"https://s3.bmp.ovh/imgs/2023/02/03/f6ce5b862569e192.jpg\"></p>\n<h5 id=\"HTTP发展\"><a href=\"#HTTP发展\" class=\"headerlink\" title=\"HTTP发展\"></a>HTTP发展</h5><p><img src=\"https://s3.bmp.ovh/imgs/2023/02/03/bd303c5375ece729.jpg\"></p>\n<h3 id=\"2-报文内容\"><a href=\"#2-报文内容\" class=\"headerlink\" title=\"2.报文内容\"></a>2.报文内容</h3><p><img src=\"https://s3.bmp.ovh/imgs/2023/02/03/eb7f13f8f1a5596c.jpg\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">常用请求头<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://s3.bmp.ovh/imgs/2023/02/03/1848c837bc2cf08d.jpg\"></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">常用响应头<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://s3.bmp.ovh/imgs/2023/02/03/08fd49af7f73a5af.jpg\"></p>\n<h3 id=\"3-Methods\"><a href=\"#3-Methods\" class=\"headerlink\" title=\"3. Methods\"></a>3. Methods</h3><p><img src=\"https://s3.bmp.ovh/imgs/2023/02/03/83884b861c15d41f.jpg\"></p>\n<ul>\n<li>安全的（不会修改服务器数据）：GET HEAD OPTIONS</li>\n<li>幂等（同样的请求执行一次和多次的效果是一致的）：所有安全的方法都是幂等的+PUT DELETE；</li>\n</ul>\n<h3 id=\"4-状态码\"><a href=\"#4-状态码\" class=\"headerlink\" title=\"4.状态码\"></a>4.状态码</h3><p><img src=\"https://s3.bmp.ovh/imgs/2023/02/03/86f6032a7181310d.jpg\"></p>\n<h3 id=\"5-Restful-API\"><a href=\"#5-Restful-API\" class=\"headerlink\" title=\"5. Restful API\"></a>5. Restful API</h3><ul>\n<li>每一种URL代表一种资源；</li>\n<li>客户端和服务器之间，传递这种资源的某种表现层；</li>\n<li>客户端通过HTTP Methods,对服务端资源进行操作，实现“表现层状态转化”；</li>\n</ul>\n<p><img src=\"https://s3.bmp.ovh/imgs/2023/02/03/377079155bbec1bc.jpg\"></p>\n<h3 id=\"6-缓存\"><a href=\"#6-缓存\" class=\"headerlink\" title=\"6.缓存\"></a>6.缓存</h3><p><img src=\"https://s3.bmp.ovh/imgs/2023/02/03/65a645bc76884d65.jpg\"></p>\n<ul>\n<li>强缓存资源本地有就直接用本地资源</li>\n<li>协商缓存即使本地有缓存，但是还是需要和server端进行通信确认是否最新等；</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">缓存流程示意<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://s3.bmp.ovh/imgs/2023/02/03/1bd6b0f0379d4254.jpg\"></p>\n<h3 id=\"7-Cookie\"><a href=\"#7-Cookie\" class=\"headerlink\" title=\"7. Cookie\"></a>7. Cookie</h3><p><img src=\"https://s3.bmp.ovh/imgs/2023/02/03/f2c87718dc00674c.jpg\"></p>\n<h3 id=\"8-HTTP-2\"><a href=\"#8-HTTP-2\" class=\"headerlink\" title=\"8. HTTP/2\"></a>8. HTTP/2</h3><blockquote>\n<p>更快、更稳定、更简单</p>\n</blockquote>\n<ul>\n<li>使用帧作为通信的最小单位，每个帧都包含头，至少回标识出当前帧所属的数据流；</li>\n<li>采用二进制编码，效率更高，有更好的压缩算法；</li>\n<li>消息：与逻辑请求或者响应消息对应的完整的一系列帧；</li>\n<li>数据流：已建立的连接内双向字节流，可以承载一条或多条消息；</li>\n<li>交错发送，接收方重组织；</li>\n<li>链接都是永久的，而且仅需要每个来源一个连接；</li>\n<li>流控制：阻止发送方向接收方发送大量数据的机制（似乎可以防范DDOS？）</li>\n</ul>\n<p><img src=\"https://s3.bmp.ovh/imgs/2023/02/03/e85b4b47fe56a57a.jpg\"></p>\n<h3 id=\"9-HTTPS\"><a href=\"#9-HTTPS\" class=\"headerlink\" title=\"9.  HTTPS\"></a>9.  HTTPS</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">经过TSL&#x2F;SSL加密<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><img src=\"https://s3.bmp.ovh/imgs/2023/02/03/d6e3190e2ebe64b2.jpg\"></p>\n<h2 id=\"二、HTTP协议的应用场景分析\"><a href=\"#二、HTTP协议的应用场景分析\" class=\"headerlink\" title=\"二、HTTP协议的应用场景分析\"></a>二、HTTP协议的应用场景分析</h2><h3 id=\"1-静态资源\"><a href=\"#1-静态资源\" class=\"headerlink\" title=\"1.静态资源\"></a>1.静态资源</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">方案：缓存+CDN+文件名Hash<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li>CDN (Content Delivery Network) :通过用户就近性和服务器负载进行判断，提供快速服务；CDN复杂解决文件加载快慢；</li>\n<li>文件名Hash来保证每次刷新获得的资源是最新的；</li>\n</ul>\n<h3 id=\"2-登录\"><a href=\"#2-登录\" class=\"headerlink\" title=\"2.登录\"></a>2.登录</h3><p>头条页面密码登录会发出两个请求；</p>\n<ul>\n<li>请求1的Methods是OPTIONS：跨域、cross-origin</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">一个url由scheme+host name+port组成\ne.g. https:&#x2F;&#x2F;www.example.com:443\n跨域：scheme、host name、prot任意一个有区别都认为是跨域；\nNote：如果https没有写明443端口号也可以认为是同域；http默认80；port可以不写；<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>跨域</li>\n</ul>\n<p><img src=\"https://pic.imgdb.cn/item/63dc762107d5ca72062d5196.jpg\"></p>\n<h5 id=\"跨域解决方案：\"><a href=\"#跨域解决方案：\" class=\"headerlink\" title=\"跨域解决方案：\"></a>跨域解决方案：</h5><ul>\n<li>CORS</li>\n<li>代理服务器：同源策略是浏览器的安全策略，不是http的</li>\n</ul>\n<p><img src=\"https://s3.bmp.ovh/imgs/2023/02/03/2ed3f548ffca14ab.jpg\"></p>\n<ul>\n<li>IFrame：存在诸多不便；</li>\n</ul>\n<p><img src=\"https://pic.imgdb.cn/item/63dc76b007d5ca72062e430c.jpg\"></p>\n<h5 id=\"鉴权\"><a href=\"#鉴权\" class=\"headerlink\" title=\"鉴权\"></a>鉴权</h5><ul>\n<li>session+cookie</li>\n<li>JWT（JSON web token）token具有唯一性；</li>\n</ul>\n<p><img src=\"https://pic.imgdb.cn/item/63dc76fe07d5ca72062e9fdb.jpg\"></p>\n<ul>\n<li>SSO（Single Sign On）：单点登录</li>\n</ul>\n<p>重定向到子站就进行登录态查询，登陆在线则可以继续访问；不在线跳转到SSO登录后继续访问；</p>\n<h2 id=\"三、实战\"><a href=\"#三、实战\" class=\"headerlink\" title=\"三、实战\"></a>三、实战</h2><h3 id=\"1-Ajax之XHR\"><a href=\"#1-Ajax之XHR\" class=\"headerlink\" title=\"1. Ajax之XHR\"></a>1. Ajax之XHR</h3><h3 id=\"2-常用请求库Axios（参考官网）\"><a href=\"#2-常用请求库Axios（参考官网）\" class=\"headerlink\" title=\"2.常用请求库Axios（参考官网）\"></a>2.常用请求库Axios（参考官网）</h3><h3 id=\"3-网络优化（需要补充）\"><a href=\"#3-网络优化（需要补充）\" class=\"headerlink\" title=\"3.网络优化（需要补充）\"></a>3.网络优化（需要补充）</h3><p><img src=\"https://pic.imgdb.cn/item/63dc79d407d5ca7206341e84.jpg\"></p>\n<h3 id=\"4-稳定性\"><a href=\"#4-稳定性\" class=\"headerlink\" title=\"4.稳定性\"></a>4.稳定性</h3><ul>\n<li>重试是保证稳定性的有效手段，但是要防止滥用，导致server情况更加恶劣；</li>\n<li>缓存合理使用，作为最后一道防线；</li>\n</ul>\n<p><img src=\"https://pic.imgdb.cn/item/63dc7a1507d5ca7206351481.jpg\"></p>\n<h2 id=\"四、拓展\"><a href=\"#四、拓展\" class=\"headerlink\" title=\"四、拓展\"></a>四、拓展</h2><h3 id=\"1-Websocket\"><a href=\"#1-Websocket\" class=\"headerlink\" title=\"1.Websocket\"></a>1.Websocket</h3><ul>\n<li>进行全双工的通讯；</li>\n<li>实时性要求较高，例如聊天室；（开启聊天室demo）</li>\n<li>url使用ws:// 或者 wss：//</li>\n</ul>\n<h3 id=\"2-QUIC（Quick-UDP-Internet-Connection）\"><a href=\"#2-QUIC（Quick-UDP-Internet-Connection）\" class=\"headerlink\" title=\"2.QUIC（Quick UDP Internet Connection）\"></a>2.QUIC（Quick UDP Internet Connection）</h3><ul>\n<li>相比于TCP更快；</li>\n<li>可靠性类似于TCP；</li>\n<li>支持h2的多路复用，没有TCP的HOL文通；</li>\n<li>前向纠错FEC</li>\n<li>用户空间的阻塞算法，最新的BBR算法；</li>\n</ul>\n","text":"HTTPS实用指南一、初识1.背景知识输入网址获得网页的过程？ HTTP发展 2.报文内容 常用请求头 常用响应头 3. Methods 安全的（不会修改服务器数据）：GET HEAD OPTIONS 幂等（同样的请求执行一次和多次的效果是一致的）：所有安全的方法都是幂等的+PU...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"前端","slug":"前端","count":37,"path":"api/categories/前端.json"}],"tags":[{"name":"笔记","slug":"笔记","count":39,"path":"api/tags/笔记.json"},{"name":"计算机网络","slug":"计算机网络","count":1,"path":"api/tags/计算机网络.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#HTTPS%E5%AE%9E%E7%94%A8%E6%8C%87%E5%8D%97\"><span class=\"toc-text\">HTTPS实用指南</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81%E5%88%9D%E8%AF%86\"><span class=\"toc-text\">一、初识</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86\"><span class=\"toc-text\">1.背景知识</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#HTTP%E5%8F%91%E5%B1%95\"><span class=\"toc-text\">HTTP发展</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E6%8A%A5%E6%96%87%E5%86%85%E5%AE%B9\"><span class=\"toc-text\">2.报文内容</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-Methods\"><span class=\"toc-text\">3. Methods</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-%E7%8A%B6%E6%80%81%E7%A0%81\"><span class=\"toc-text\">4.状态码</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-Restful-API\"><span class=\"toc-text\">5. Restful API</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-%E7%BC%93%E5%AD%98\"><span class=\"toc-text\">6.缓存</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#7-Cookie\"><span class=\"toc-text\">7. Cookie</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#8-HTTP-2\"><span class=\"toc-text\">8. HTTP&#x2F;2</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#9-HTTPS\"><span class=\"toc-text\">9.  HTTPS</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81HTTP%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%E5%88%86%E6%9E%90\"><span class=\"toc-text\">二、HTTP协议的应用场景分析</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90\"><span class=\"toc-text\">1.静态资源</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E7%99%BB%E5%BD%95\"><span class=\"toc-text\">2.登录</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E8%B7%A8%E5%9F%9F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%EF%BC%9A\"><span class=\"toc-text\">跨域解决方案：</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E9%89%B4%E6%9D%83\"><span class=\"toc-text\">鉴权</span></a></li></ol></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%89%E3%80%81%E5%AE%9E%E6%88%98\"><span class=\"toc-text\">三、实战</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-Ajax%E4%B9%8BXHR\"><span class=\"toc-text\">1. Ajax之XHR</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E5%B8%B8%E7%94%A8%E8%AF%B7%E6%B1%82%E5%BA%93Axios%EF%BC%88%E5%8F%82%E8%80%83%E5%AE%98%E7%BD%91%EF%BC%89\"><span class=\"toc-text\">2.常用请求库Axios（参考官网）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-%E7%BD%91%E7%BB%9C%E4%BC%98%E5%8C%96%EF%BC%88%E9%9C%80%E8%A6%81%E8%A1%A5%E5%85%85%EF%BC%89\"><span class=\"toc-text\">3.网络优化（需要补充）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-%E7%A8%B3%E5%AE%9A%E6%80%A7\"><span class=\"toc-text\">4.稳定性</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9B%9B%E3%80%81%E6%8B%93%E5%B1%95\"><span class=\"toc-text\">四、拓展</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-Websocket\"><span class=\"toc-text\">1.Websocket</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-QUIC%EF%BC%88Quick-UDP-Internet-Connection%EF%BC%89\"><span class=\"toc-text\">2.QUIC（Quick UDP Internet Connection）</span></a></li></ol></li></ol></li></ol>","author":{"name":"Martin","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Be Myself","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"3D游戏开发","uid":"1a257d6e815878cf44406642d07ac6c8","slug":"3D游戏实战","date":"2023-03-27T10:51:45.000Z","updated":"2023-03-27T11:07:22.266Z","comments":true,"path":"api/articles/3D游戏实战.json","keywords":"Love And Freedom","cover":"img/bg16.jpg","text":"3D游戏开发一、3D实体搭建1.3D实体位姿态 位置：Position（x,y,z） 旋转：Rotation（x,y,z) 缩放：Scale（x,y,z) Unity中，绝大部分情况下，是先缩放，后旋转，最后平移； 3D实体的创建 通过加载3D模型创建，如fbx、gltf、obj...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"前端","slug":"前端","count":37,"path":"api/categories/前端.json"}],"tags":[{"name":"3D","slug":"3D","count":1,"path":"api/tags/3D.json"},{"name":"笔记","slug":"笔记","count":39,"path":"api/tags/笔记.json"}],"author":{"name":"Martin","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Be Myself","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Next","uid":"9aba8ff8d082e3955ddb99d093b9c44c","slug":"NextJS","date":"2023-03-27T10:51:45.000Z","updated":"2023-03-27T11:04:39.759Z","comments":true,"path":"api/articles/NextJS.json","keywords":"Love And Freedom","cover":"img/bg26.jpg","text":"Next一、CSR、SSR、SGR1.基础概念 B端指内部使用的管理平台 C端面向公网外部用户 2.CSR客户端渲染 常见的B端Web开发模式，前后端分离，服务器压力相对较轻；渲染在客户端进行，服务器直接返回不加工的HTML用户再后续访问操作； SPA：所需的资源在一起请求中就加...","link":"","photos":[],"count_time":{"symbolsCount":829,"symbolsTime":"1 mins."},"categories":[{"name":"前端","slug":"前端","count":37,"path":"api/categories/前端.json"}],"tags":[{"name":"笔记","slug":"笔记","count":39,"path":"api/tags/笔记.json"},{"name":"Nuxt","slug":"Nuxt","count":1,"path":"api/tags/Nuxt.json"}],"author":{"name":"Martin","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Be Myself","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}