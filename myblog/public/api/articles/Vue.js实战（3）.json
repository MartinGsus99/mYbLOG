{"title":"Vue.js实战（3）","uid":"b9eb314d54f72cf53fff5f618f6807c7","slug":"Vue.js实战（3）","date":"2020-11-20T09:38:45.000Z","updated":"2021-01-26T12:17:44.000Z","comments":true,"path":"api/articles/Vue.js实战（3）.json","keywords":"Love And Freedom","cover":"img/bg4.jpeg","content":"<h1 id=\"Ch5-内置指令\"><a href=\"#Ch5-内置指令\" class=\"headerlink\" title=\"Ch5 内置指令\"></a>Ch5 内置指令</h1><h3 id=\"5-1-基本指令\"><a href=\"#5-1-基本指令\" class=\"headerlink\" title=\"5.1 基本指令\"></a>5.1 基本指令</h3><p>1.v-cloak<br>网速较慢时，vue.js还没有加载完成，页面会显示空内容，用v-cloak解决；</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">cloak</span><span class=\"token punctuation\">></span></span>\n    &#123;&#123; content &#125;&#125;\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n[cloak]&#123;\ndisplay:none;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>2.v-once</p>\n<p>仅仅渲染一次，首次渲染后，不在随数据的变化而变化，视为静态内容；</p>\n<p>3.v-if、v-else-if、v-else</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>status===1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>显示状态1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">v-else-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>status===2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>显示状态2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">v-else</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>status===3<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>显示状态3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n    //判断多个元素，使用<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>一个简单的切换按钮效果</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>app<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n     <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">v-if</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>type=== 'name'<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n         <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>name<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n     <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n\n     <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span> <span class=\"token attr-name\">v-else</span><span class=\"token punctuation\">></span></span>\n         <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>email<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>xxx@xx.com<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n     <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n     <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>changeMode<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>切换<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n \n \n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n     <span class=\"token keyword\">var</span> app<span class=\"token operator\">=</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Vue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n         <span class=\"token literal-property property\">el</span><span class=\"token operator\">:</span><span class=\"token string\">\"#app\"</span><span class=\"token punctuation\">,</span>\n         <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span>\n             <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">,</span>\n         <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n         <span class=\"token literal-property property\">methods</span><span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span>\n             <span class=\"token function-variable function\">changeMode</span><span class=\"token operator\">:</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n                 <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>type<span class=\"token operator\">=</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>type<span class=\"token operator\">===</span><span class=\"token string\">'name'</span><span class=\"token operator\">?</span><span class=\"token string\">'mail'</span><span class=\"token operator\">:</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">;</span>\n             <span class=\"token punctuation\">&#125;</span>\n         <span class=\"token punctuation\">&#125;</span>\n     <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>4.v-show:与if基本一致，但是不可以用在’’’&lt;template&gt;&lt;/template&gt;’’’</p>\n<p>区别：v-if只有为true的时候才会编译渲染，而v-show只是css属性切换，一定会编译，适用于经常切换的场合；</p>\n<p>5.v-for：数组遍历及枚举</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n           <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">v-for</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>book in books<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>&#123;&#123; book.name &#125;&#125;<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span>\n       <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\ndata:&#123;\n\tbooks:[\n&#123; name: '<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Book1</span><span class=\"token punctuation\">></span></span>' &#125;,\n   &#123; name: '<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Book1</span><span class=\"token punctuation\">></span></span>' &#125;,\n   &#123; name: '<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Book1</span><span class=\"token punctuation\">></span></span>' &#125;, \n   ]\n   &#125;,<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"5-3过滤与排序：使用计算属性返回处理后的数组\"><a href=\"#5-3过滤与排序：使用计算属性返回处理后的数组\" class=\"headerlink\" title=\"5.3过滤与排序：使用计算属性返回处理后的数组\"></a>5.3过滤与排序：使用计算属性返回处理后的数组</h3><p>筛选数据：</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">computed:&#123;\n       filterBooks:function()&#123;\n           return this.books.filter(function(book)&#123;\n               return book.name.match(/Book2/);\n           &#125;)\n       &#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"5-4-方法与事件\"><a href=\"#5-4-方法与事件\" class=\"headerlink\" title=\"5.4 方法与事件\"></a>5.4 方法与事件</h3><pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">//一个小的计数器\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n            点击次数：&#123;&#123; counter &#125;&#125;\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>counter++<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Click<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>add10<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Click +10<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">@click</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>reset_counter<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Reset<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n     <span class=\"token function-variable function\">add10</span><span class=\"token operator\">:</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>counter<span class=\"token operator\">+=</span><span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n     <span class=\"token function-variable function\">reset_counter</span><span class=\"token operator\">:</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n                     <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>counter<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">&#125;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>5.4.2 修饰符</p>\n<p>修饰符</p>\n<table>\n<thead>\n<tr>\n<th>.stop</th>\n<th>.prevent</th>\n<th align=\"left\">.capture</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>.self</td>\n<td>.once</td>\n<td align=\"left\">.enter</td>\n</tr>\n<tr>\n<td>.tab</td>\n<td>.delete</td>\n<td align=\"left\">.esc</td>\n</tr>\n<tr>\n<td>.space</td>\n<td>.up</td>\n<td align=\"left\">.down</td>\n</tr>\n</tbody></table>\n","text":"Ch5 内置指令5.1 基本指令1.v-cloak网速较慢时，vue.js还没有加载完成，页面会显示空内容，用v-cloak解决； &lt;div id=\"app\" cloak> &#123;&#123; content &#125;&#125; &lt;/div> [cloak...","link":"","photos":[],"count_time":{"symbolsCount":"2.3k","symbolsTime":"2 mins."},"categories":[{"name":"前端","slug":"前端","count":37,"path":"api/categories/前端.json"}],"tags":[{"name":"笔记","slug":"笔记","count":41,"path":"api/tags/笔记.json"},{"name":"VUE","slug":"VUE","count":17,"path":"api/tags/VUE.json"},{"name":"Vue.js实战","slug":"Vue-js实战","count":11,"path":"api/tags/Vue-js实战.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Ch5-%E5%86%85%E7%BD%AE%E6%8C%87%E4%BB%A4\"><span class=\"toc-text\">Ch5 内置指令</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-1-%E5%9F%BA%E6%9C%AC%E6%8C%87%E4%BB%A4\"><span class=\"toc-text\">5.1 基本指令</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-3%E8%BF%87%E6%BB%A4%E4%B8%8E%E6%8E%92%E5%BA%8F%EF%BC%9A%E4%BD%BF%E7%94%A8%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E8%BF%94%E5%9B%9E%E5%A4%84%E7%90%86%E5%90%8E%E7%9A%84%E6%95%B0%E7%BB%84\"><span class=\"toc-text\">5.3过滤与排序：使用计算属性返回处理后的数组</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-4-%E6%96%B9%E6%B3%95%E4%B8%8E%E4%BA%8B%E4%BB%B6\"><span class=\"toc-text\">5.4 方法与事件</span></a></li></ol></li></ol></li></ol>","author":{"name":"Martin","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Be Myself","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Vue购物车","uid":"0796c745a1223991af2b7b7c760ec975","slug":"Vue_Shopping_Car","date":"2020-11-20T09:41:45.000Z","updated":"2020-11-20T09:46:02.000Z","comments":true,"path":"api/articles/Vue_Shopping_Car.json","keywords":"Love And Freedom","cover":"img/vue_js_shizhan.jpg","text":"//一个购物车实例 //重点在数据的绑定和computed属性，methods方法在后面的章节 &lt;!DOCTYPE html> &lt;html lang=\"en\"> &lt;head> &lt;meta charset=\"UTF-8\"> &lt;meta name=\"vi...","link":"","photos":[],"count_time":{"symbolsCount":"3.9k","symbolsTime":"4 mins."},"categories":[{"name":"前端","slug":"前端","count":37,"path":"api/categories/前端.json"}],"tags":[{"name":"笔记","slug":"笔记","count":41,"path":"api/tags/笔记.json"},{"name":"VUE","slug":"VUE","count":17,"path":"api/tags/VUE.json"},{"name":"Vue.js实战","slug":"Vue-js实战","count":11,"path":"api/tags/Vue-js实战.json"}],"author":{"name":"Martin","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Be Myself","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Vue.js实战（2）","uid":"81ff82f750d6d01e23e791f595547024","slug":"Vue.js实战（2）","date":"2020-11-18T13:33:45.000Z","updated":"2020-11-20T09:45:48.000Z","comments":true,"path":"api/articles/Vue.js实战（2）.json","keywords":"Love And Freedom","cover":"img/vue_js_shizhan.jpg","text":"Ch3 计算属性1.计算属性：遇到复杂的逻辑时，使用计算属性；将所有的计算属性以函数的形式卸载Vue实例的computed属性内，返回计算结果； &lt;div&gt; &#123;&#123; reversedText &#125;&#125; &lt;&#x2F;div&gt...","link":"","photos":[],"count_time":{"symbolsCount":"3k","symbolsTime":"3 mins."},"categories":[{"name":"前端","slug":"前端","count":37,"path":"api/categories/前端.json"}],"tags":[{"name":"笔记","slug":"笔记","count":41,"path":"api/tags/笔记.json"},{"name":"VUE","slug":"VUE","count":17,"path":"api/tags/VUE.json"},{"name":"Vue.js实战","slug":"Vue-js实战","count":11,"path":"api/tags/Vue-js实战.json"}],"author":{"name":"Martin","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Be Myself","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}