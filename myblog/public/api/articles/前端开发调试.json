{"title":"前端开发调试","uid":"758ca3435563534b448be7a72bef9969","slug":"前端开发调试","date":"2023-03-27T10:51:45.000Z","updated":"2023-03-27T11:06:48.816Z","comments":true,"path":"api/articles/前端开发调试.json","keywords":"Love And Freedom","cover":"img/bg14.jpg","content":"<h1 id=\"前端开发调试\"><a href=\"#前端开发调试\" class=\"headerlink\" title=\"前端开发调试\"></a>前端开发调试</h1><blockquote>\n<p>No code，no bug</p>\n</blockquote>\n<h2 id=\"一、Bug-与-Debug\"><a href=\"#一、Bug-与-Debug\" class=\"headerlink\" title=\"一、Bug 与 Debug\"></a>一、Bug 与 Debug</h2><h3 id=\"1-前端Debug的特点\"><a href=\"#1-前端Debug的特点\" class=\"headerlink\" title=\"1.前端Debug的特点\"></a>1.前端Debug的特点</h3><ul>\n<li>多平台（浏览器、NodeJS、）</li>\n<li>多环境（本地开发环境，线上环境）</li>\n<li>多工具（Chrome Devtools、Charles、）</li>\n<li>多技巧（Console、Breakpoint、sourceMap、代理等）</li>\n</ul>\n<h2 id=\"二、桌面端Debug\"><a href=\"#二、桌面端Debug\" class=\"headerlink\" title=\"二、桌面端Debug\"></a>二、桌面端Debug</h2><h3 id=\"1-Chrome-Dev-Tools\"><a href=\"#1-Chrome-Dev-Tools\" class=\"headerlink\" title=\"1. Chrome Dev Tools\"></a>1. Chrome Dev Tools</h3><ul>\n<li>动态修改样式</li>\n<li>Console</li>\n</ul>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">debug</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">infor</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">table</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\t\t<span class=\"token comment\">//具象化展示JSON和数组数据</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">dir</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\t\t\t<span class=\"token comment\">//通过类似文件树的方式展示对象的属性</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"%s,%o,%c,%d\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//占位符：s字符串 o对象 c样式 d数字</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"123\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t\t\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">123</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t\t<span class=\"token comment\">//两者输出颜色不同</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>source Map</li>\n</ul>\n<p>利用console添加debugger来找出问题在哪里</p>\n<h3 id=\"2-压缩后的代码如何调试？\"><a href=\"#2-压缩后的代码如何调试？\" class=\"headerlink\" title=\"2.压缩后的代码如何调试？\"></a>2.压缩后的代码如何调试？</h3><blockquote>\n<p>前端代码天生具有开源属性，出于安全考虑，上线之前JS代码通常会被压缩，压缩之后的代码只有一行，变量使用a\\b等替换，整体变得不可读；</p>\n</blockquote>\n<h5 id=\"代码压缩工具\"><a href=\"#代码压缩工具\" class=\"headerlink\" title=\"代码压缩工具\"></a>代码压缩工具</h5><ul>\n<li>webpack</li>\n<li>Uglify JS</li>\n<li>terser</li>\n</ul>\n<h5 id=\"线上代码调试\"><a href=\"#线上代码调试\" class=\"headerlink\" title=\"线上代码调试\"></a>线上代码调试</h5><ul>\n<li><p>使用source map插件进行映射；</p>\n</li>\n<li><p>mappings字段存储了源文件和source map的映射</p>\n</li>\n<li><p>英文：表示源码及压缩代码的位置关联；</p>\n</li>\n<li><p>逗号：分割一行代码中的内容；</p>\n</li>\n<li><p>分号：代表换行；</p>\n</li>\n</ul>\n<h5 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h5><p>既然source map 可以映射源码，那压缩后的代码带上source map上线不就又不安全了吗？</p>\n<p>答：source map应用场景通常是监控，代码上线的时候是不上source map的，同时也能减少体积；</p>\n<p>项目打包的时候，带上source map一起build，上线之前把source map上传到监控平台，然后删除map的产物，再上传到服务器；然后监控平台如果收集到线上环境的错误，就进行分析，拿错误对照监控平台的map产物，定位错误；</p>\n<h3 id=\"3-Network\"><a href=\"#3-Network\" class=\"headerlink\" title=\"3. Network\"></a>3. Network</h3><ul>\n<li>查看不同网络下页面加载的情况</li>\n<li>文件请求</li>\n<li>网络请求时间，异步同步</li>\n</ul>\n<h3 id=\"4-Application\"><a href=\"#4-Application\" class=\"headerlink\" title=\"4. Application\"></a>4. Application</h3><blockquote>\n<p>存储相关的内容</p>\n</blockquote>\n<ul>\n<li>清理缓存</li>\n<li>查看cookies</li>\n<li>查看会话token等；</li>\n</ul>\n<h3 id=\"5-Performance\"><a href=\"#5-Performance\" class=\"headerlink\" title=\"5. Performance\"></a>5. Performance</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">页面卡顿-&gt;查看FPS指标-&gt;寻找性能瓶颈-&gt;优化代码<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li>可以查看代码行运行耗费的时间，找到性能瓶颈；</li>\n</ul>\n<h5 id=\"核心web指标\"><a href=\"#核心web指标\" class=\"headerlink\" title=\"核心web指标\"></a>核心web指标</h5><ul>\n<li>LCP（Largest Contentful Paint）：最大内容绘制，测量加载性能；为了提供良好的用户体验，LCP应在页面首次开始加载的2.5s内发生；</li>\n<li>FID（First input Delay）：首次输入延迟，测量交互性；为了用户体验，页面的FID应为100ms甚至更短；</li>\n<li>CLS（Cumulative layout Shift）:累计布局偏移，测量视觉稳定性。应当保持在0.1以下；</li>\n</ul>\n<h2 id=\"三、移动端Debug\"><a href=\"#三、移动端Debug\" class=\"headerlink\" title=\"三、移动端Debug\"></a>三、移动端Debug</h2><h3 id=\"1-调试方法\"><a href=\"#1-调试方法\" class=\"headerlink\" title=\"1.调试方法\"></a>1.调试方法</h3><ul>\n<li>真机调试；</li>\n</ul>\n<p><img src=\"https://s3.bmp.ovh/imgs/2023/02/05/cd81bc4c19058ed3.jpg\"></p>\n<ul>\n<li>VConsole</li>\n</ul>\n<p><img src=\"https://s3.bmp.ovh/imgs/2023/02/05/c349839e8323843c.jpg\"></p>\n<ul>\n<li><p>代理工具（Charles推荐但收费、Progress）</p>\n</li>\n<li><p>NodeJS调试</p>\n</li>\n</ul>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">//step1\n<span class=\"token function\">node</span> <span class=\"token parameter variable\">--inspect</span><span class=\"token operator\">=</span><span class=\"token number\">8888</span> index.js\n\n//step2\n//chrome浏览器访问<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>使用vscode进行调试</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">启动调试-&gt;打开网址-&gt;添加断点<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"四、前端常用调试方法\"><a href=\"#四、前端常用调试方法\" class=\"headerlink\" title=\"四、前端常用调试方法\"></a>四、前端常用调试方法</h2><h3 id=\"1-线上即时修改-Overrides\"><a href=\"#1-线上即时修改-Overrides\" class=\"headerlink\" title=\"1.线上即时修改 Overrides\"></a>1.线上即时修改 Overrides</h3><ul>\n<li>打开Sources面板下的Overrides</li>\n<li>点击Select folders for overrides,选择本地空文件夹</li>\n<li>允许授权</li>\n<li>在page种修改代码，然后保存</li>\n<li>打开devTools,点击右上角的三个小点-&gt;more tools-&gt;changes就能看到所有的修改了</li>\n</ul>\n<h3 id=\"2-利用代理解决开发阶段的跨域问题\"><a href=\"#2-利用代理解决开发阶段的跨域问题\" class=\"headerlink\" title=\"2.利用代理解决开发阶段的跨域问题\"></a>2.利用代理解决开发阶段的跨域问题</h3><p><img src=\"https://s3.bmp.ovh/imgs/2023/02/05/a8bc42e162606f74.jpg\"></p>\n<h5 id=\"问题-1\"><a href=\"#问题-1\" class=\"headerlink\" title=\"问题\"></a>问题</h5><p>为什么使用代理可以解决跨域问题？</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li>配置到线上的使用nginx解决跨域问题；</li>\n</ul>\n<h3 id=\"3-使用代理工具Mock数据\"><a href=\"#3-使用代理工具Mock数据\" class=\"headerlink\" title=\"3.使用代理工具Mock数据\"></a>3.使用代理工具Mock数据</h3><p><img src=\"https://s3.bmp.ovh/imgs/2023/02/05/6174410f7146a1dc.jpg\"></p>\n<h3 id=\"4-小黄鸭调试大法\"><a href=\"#4-小黄鸭调试大法\" class=\"headerlink\" title=\"4.小黄鸭调试大法\"></a>4.小黄鸭调试大法</h3><p><img src=\"https://s3.bmp.ovh/imgs/2023/02/05/55b236ba9e0415bc.jpg\"></p>\n","text":"前端开发调试 No code，no bug 一、Bug 与 Debug1.前端Debug的特点 多平台（浏览器、NodeJS、） 多环境（本地开发环境，线上环境） 多工具（Chrome Devtools、Charles、） 多技巧（Console、Breakpoint、sourc...","link":"","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"前端","slug":"前端","count":37,"path":"api/categories/前端.json"}],"tags":[{"name":"笔记","slug":"笔记","count":39,"path":"api/tags/笔记.json"},{"name":"面试笔记","slug":"面试笔记","count":4,"path":"api/tags/面试笔记.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E8%B0%83%E8%AF%95\"><span class=\"toc-text\">前端开发调试</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81Bug-%E4%B8%8E-Debug\"><span class=\"toc-text\">一、Bug 与 Debug</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E5%89%8D%E7%AB%AFDebug%E7%9A%84%E7%89%B9%E7%82%B9\"><span class=\"toc-text\">1.前端Debug的特点</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81%E6%A1%8C%E9%9D%A2%E7%AB%AFDebug\"><span class=\"toc-text\">二、桌面端Debug</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-Chrome-Dev-Tools\"><span class=\"toc-text\">1. Chrome Dev Tools</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E5%8E%8B%E7%BC%A9%E5%90%8E%E7%9A%84%E4%BB%A3%E7%A0%81%E5%A6%82%E4%BD%95%E8%B0%83%E8%AF%95%EF%BC%9F\"><span class=\"toc-text\">2.压缩后的代码如何调试？</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E4%BB%A3%E7%A0%81%E5%8E%8B%E7%BC%A9%E5%B7%A5%E5%85%B7\"><span class=\"toc-text\">代码压缩工具</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E7%BA%BF%E4%B8%8A%E4%BB%A3%E7%A0%81%E8%B0%83%E8%AF%95\"><span class=\"toc-text\">线上代码调试</span></a></li><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">问题</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-Network\"><span class=\"toc-text\">3. Network</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-Application\"><span class=\"toc-text\">4. Application</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-Performance\"><span class=\"toc-text\">5. Performance</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E6%A0%B8%E5%BF%83web%E6%8C%87%E6%A0%87\"><span class=\"toc-text\">核心web指标</span></a></li></ol></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%89%E3%80%81%E7%A7%BB%E5%8A%A8%E7%AB%AFDebug\"><span class=\"toc-text\">三、移动端Debug</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">1.调试方法</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%9B%9B%E3%80%81%E5%89%8D%E7%AB%AF%E5%B8%B8%E7%94%A8%E8%B0%83%E8%AF%95%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">四、前端常用调试方法</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E7%BA%BF%E4%B8%8A%E5%8D%B3%E6%97%B6%E4%BF%AE%E6%94%B9-Overrides\"><span class=\"toc-text\">1.线上即时修改 Overrides</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E5%88%A9%E7%94%A8%E4%BB%A3%E7%90%86%E8%A7%A3%E5%86%B3%E5%BC%80%E5%8F%91%E9%98%B6%E6%AE%B5%E7%9A%84%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">2.利用代理解决开发阶段的跨域问题</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-5\"><a class=\"toc-link\" href=\"#%E9%97%AE%E9%A2%98-1\"><span class=\"toc-text\">问题</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%90%86%E5%B7%A5%E5%85%B7Mock%E6%95%B0%E6%8D%AE\"><span class=\"toc-text\">3.使用代理工具Mock数据</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-%E5%B0%8F%E9%BB%84%E9%B8%AD%E8%B0%83%E8%AF%95%E5%A4%A7%E6%B3%95\"><span class=\"toc-text\">4.小黄鸭调试大法</span></a></li></ol></li></ol></li></ol>","author":{"name":"Martin","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Be Myself","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Web开发安全","uid":"7867a2828e93baed8fd4a0d08eec51d1","slug":"web开发安全","date":"2023-03-27T10:51:45.000Z","updated":"2023-03-27T11:01:31.701Z","comments":true,"path":"api/articles/web开发安全.json","keywords":"Love And Freedom","cover":"img/bg1.jpg","text":"Web开发安全攻击篇一、Cross-site Scripting(XSS)跨站脚本攻击1.主要利用点 盲目信任用户的提交内容； string-&gt;Dom doucument.write element.innerHTML=anyString SSR(user_data) //...","link":"","photos":[],"count_time":{"symbolsCount":"2.1k","symbolsTime":"2 mins."},"categories":[{"name":"前端","slug":"前端","count":37,"path":"api/categories/前端.json"}],"tags":[{"name":"笔记","slug":"笔记","count":39,"path":"api/tags/笔记.json"},{"name":"网络安全","slug":"网络安全","count":1,"path":"api/tags/网络安全.json"}],"author":{"name":"Martin","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Be Myself","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"前端监控SDK","uid":"ff3c421ef1d9934b79c84f7fecbba276","slug":"前端监控SDK","date":"2023-03-27T10:51:45.000Z","updated":"2023-03-27T11:06:37.681Z","comments":true,"path":"api/articles/前端监控SDK.json","keywords":"Love And Freedom","cover":"img/bg13.jpg","text":"前端监控SDK一、为什么要聊前端监控？1.经典面试题 Q：在浏览器里，从输入url到页面展示，这中间发生了什么？ 浏览网页出现的问题 打开缓慢（使用的xp+ie，建议升级系统） 卡顿（电脑配置太差，建议升级硬件） 图片裂开（用户网络太差，建议升级宽带） 白屏（在我电脑上没问题啊！...","link":"","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[{"name":"前端","slug":"前端","count":37,"path":"api/categories/前端.json"}],"tags":[{"name":"笔记","slug":"笔记","count":39,"path":"api/tags/笔记.json"},{"name":"面试笔记","slug":"面试笔记","count":4,"path":"api/tags/面试笔记.json"}],"author":{"name":"Martin","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"Be Myself","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}